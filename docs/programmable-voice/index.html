



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Programmable Voice, Messaging, and Video">
      
      
        <link rel="canonical" href="https://fonoster.github.com/fonos/programmable-voice/">
      
      
        <meta name="author" content="Pedro Sanders">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="/assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.4.0">
    
    
      
        <title>Programmable Voice - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-71722942-3", "fonos.io")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#call-control" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <!-- Load an icon library to show a hamburger menu (bars) on small screens -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<style>
  table {
      width:100%;
      box-shadow: none;
      border-collapse: collapse;
  }
  .md-typeset__table {
    width:100%;
  }

  .md-typeset table:not([class]) {
    box-shadow: none;
    border-radius: 0;
  }

  thead {
    background-color: rgba(50, 94, 142, 0.54);
  }

  .topnav {
    background-color: #33383d;
    overflow: hidden;
    z-index: 10;
    display: flex;
    position: fixed;
    width: 100%;
    font-family: Arial;
    transition: background-color 0.25s, color 0.25s, box-shadow 0.25s;
    box-shadow: 0 0 6px rgba(0,0,0,.35);
  }

  .topnav a {
    float: left;
    display: block;
    color: #ECEFF1;
    text-align: center;
    padding: 25px 30px;
    text-decoration: none;
    font-size: 16px;
  }

  a.logo {
    padding-left: 15px;
    padding-top: 11px;
    height: 70px;
  }

  .topnav a:hover {
    color: rgb(98, 190, 92);
  }

  .topnav .icon {
    display: none;
  }

  @media screen and (max-width: 600px) {
    .topnav a:not(:first-child) {display: none;}
    .topnav a.icon {
      float: right;
      display: block;
    }
  }

  @media screen and (max-width: 600px) {
    .topnav.responsive {
      display: block;
    }
    .topnav.responsive a.icon {
      position: absolute;
      right: 0;
      top: 0;
    }
    .topnav.responsive a {
      float: none;
      display: block;
      text-align: left;
    }
  }

  div.md-content {
    margin-top: 60px;
  }
  div.md-sidebar {
    margin-top: 60px;
  }
</style>

<div class="topnav" id="topnav">
  <a class="logo" href="/fonos/"><img src="/fonos/assets/logo.png" height="35"/></a>
  <span style="flex:1"></span>
  <a href="https://github.com/fonoster/fonos/issues">Report Bugs</a>
  <!--<a href="/docs/introduction/community">Join the Community</a>
  <a href="https://groups.google.com/forum/#!forum/routr-users">Ask Questions</a>-->
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a>
</div>

<script type="text/javascript">
  /* Toggle between adding and removing the "responsive" class to topnav when the user clicks on the icon */
  function myFunction() {
    var x = document.getElementById("topnav");
    if (x.className === "topnav") {
      x.className += " responsive";
    } else {
      x.className = "topnav";
    }
  }
</script>

<!-- Application header -->
<header class="md-header" data-md-component="header" style="top: 70px;">

  <!-- Top-level navigation -->
  <nav class="md-header-nav md-grid" >
    <div class="md-flex">

      <!-- Link to home -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://fonoster.github.com/fonos"
            title="Documentation"
            class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>

      <!-- Button to toggle drawer -->
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button"
            for="__drawer"></label>
      </div>

      <!-- Header title -->
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title"
            data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Documentation
              </span>
              <span class="md-header-nav__topic">
                Programmable Voice
              </span>
            
          
        </div>
      </div>

      <!-- Button to open search dialogue -->
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button"
                for="__search"></label>

            <!-- Search interface -->
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>

      <!-- Repository containing source -->
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/fonoster/fonos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    fonoster/fonos
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://fonoster.github.com/fonos" title="Documentation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/fonoster/fonos/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    fonoster/fonos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Programmable Voice
      </label>
    
    <a href="./" title="Programmable Voice" class="md-nav__link md-nav__link--active">
      Programmable Voice
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#answer" title="Answer" class="md-nav__link">
    Answer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hangup" title="Hangup" class="md-nav__link">
    Hangup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#play" title="Play" class="md-nav__link">
    Play
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#say" title="Say" class="md-nav__link">
    Say
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gather" title="Gather" class="md-nav__link">
    Gather
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#record" title="Record" class="md-nav__link">
    Record
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stash" title="Stash" class="md-nav__link">
    Stash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wait" title="Wait" class="md-nav__link">
    Wait
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/installing-on-minikube/" title="Installing Fonos on Minikube" class="md-nav__link">
      Installing Fonos on Minikube
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/deploying-voip-network/" title="Deploying VOIP Network" class="md-nav__link">
      Deploying VOIP Network
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../guides/creating-app/" title="Creating Programmable Voice App" class="md-nav__link">
      Creating Programmable Voice App
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/AbstractTTS/" title="AbstractTTS" class="md-nav__link">
      AbstractTTS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/Agents/" title="Agents" class="md-nav__link">
      Agents
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/AppManager/" title="AppManager" class="md-nav__link">
      AppManager
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/Domains/" title="Domains" class="md-nav__link">
      Domains
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/GoogleASR/" title="GoogleASR" class="md-nav__link">
      GoogleASR
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/GoogleTTS/" title="GoogleTTS" class="md-nav__link">
      GoogleTTS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/MaryTTS/" title="MaryTTS" class="md-nav__link">
      MaryTTS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/Numbers/" title="Numbers" class="md-nav__link">
      Numbers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/Providers/" title="Providers" class="md-nav__link">
      Providers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/Storage/" title="Storage" class="md-nav__link">
      Storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../reference/Verbs/" title="Verbs" class="md-nav__link">
      Verbs
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#answer" title="Answer" class="md-nav__link">
    Answer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hangup" title="Hangup" class="md-nav__link">
    Hangup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#play" title="Play" class="md-nav__link">
    Play
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#say" title="Say" class="md-nav__link">
    Say
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gather" title="Gather" class="md-nav__link">
    Gather
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#record" title="Record" class="md-nav__link">
    Record
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stash" title="Stash" class="md-nav__link">
    Stash
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wait" title="Wait" class="md-nav__link">
    Wait
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/fonoster/fonos/edit/master/docs/programmable-voice.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="call-control">Call Control<a class="headerlink" href="#call-control" title="Permanent link">&para;</a></h1>
<blockquote>
<p><h3 class='toc-ignore'>App Example</h3></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nx">loadJS</span><span class="p">(</span><span class="s2">&quot;fn:http.js&quot;</span><span class="p">);</span>

<span class="c1">// Get fruits from json resource</span>
<span class="nx">$http</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">&#39;https://someurl.com/fruits.json&#39;</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">fruits</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
<span class="p">});</span>

<span class="nx">fruits</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">fruit</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">say</span><span class="p">(</span><span class="nx">fruit</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>

<p>Use any combination of the <em>Voice Verbs</em> to obtain call control. This "Verbs" were created with a principle in mind, 
that a simple problem should have an easy solution.</p>
<p>The following six verbs are provided for easy use:</p>
<ul>
<li>Answer</li>
<li>Hangup</li>
<li>Play</li>
<li>Say</li>
<li>Gather</li>
<li>Record</li>
<li>Stash</li>
</ul>
<p>Fonoster also provides an <em>Http Object</em>, inspired in <a href="http://unirest.io/nodejs.html">Unirest</a>, to enable I/O via HTTP/S. A
description of the verbs and the Http Object follows.</p>
<aside class="notice">
To see full examples go to https://github.com/fonoster/apps-examples.
</aside>

<h2 id="answer">Answer<a class="headerlink" href="#answer" title="Permanent link">&para;</a></h2>
<blockquote>
<p><h3 class="toc-ignore">Example</h3></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nx">wait</span><span class="p">(</span><span class="mi">5</span><span class="p">);</span> <span class="nx">answer</span><span class="p">();</span> <span class="nx">say</span><span class="p">(</span><span class="s1">&#39;You waited for 5 seconds&#39;</span><span class="p">);</span>
</code></pre></div>

<p>Use <em>Answer</em> to answer to a call. This verb is optional and must be use in conjunction with <a href="#make-a-call">autoanwser</a>
to work properly.</p>
<p>This is useful in situations when you want to execute and action prior to beginning the call, for instance pre-load data 
using the <a href="#http">Http Object</a>.</p>
<h2 id="hangup">Hangup<a class="headerlink" href="#hangup" title="Permanent link">&para;</a></h2>
<blockquote>
<p><h3 class="toc-ignore">Example</h3></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nx">say</span><span class="p">(</span><span class="s1">&#39;Hello world&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">cnt</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>

<span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">say</span><span class="p">(</span><span class="s1">&#39;The counter is equal to: &#39;</span> <span class="o">+</span> <span class="nx">cnt</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">cnt</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="nx">hangup</span><span class="p">();</span>
    <span class="nx">cnt</span><span class="o">--</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>Calls will be terminated when all instructions are completed. With the <em>Hangup</em> verb you can terminate the call anytime 
you need. </p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Optional</th>
</tr>
</thead>
<tbody>
<tr>
<td>timeout</td>
<td>Time in seconds to auto-hangup</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<aside class="notice">
Use timeout to establish the maximum allowed time for the call
</aside>

<h2 id="play">Play<a class="headerlink" href="#play" title="Permanent link">&para;</a></h2>
<p>The <em>Play</em> verb is used to stream a pre-recorded audio.</p>
<blockquote>
<p><h3 class="toc-ignore">Example</h3></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c1">// The file must be previously uploaded using the REST API.</span>
<span class="nx">play</span><span class="p">(</span><span class="s1">&#39;tt-monkeys&#39;</span><span class="p">);</span>
</code></pre></div>

<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Optional</th>
</tr>
</thead>
<tbody>
<tr>
<td>file</td>
<td>The file must be uploaded prior to use this verb.</td>
<td>No</td>
</tr>
<tr>
<td>timeout</td>
<td>Time in seconds to wait for the user to press the keypad. If no key is pressed an empty character will be returned.</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h2 id="say">Say<a class="headerlink" href="#say" title="Permanent link">&para;</a></h2>
<blockquote>
<p><h3 class="toc-ignore">Example</h3></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="c1">// Setup the call&#39;s voice</span>
<span class="nx">voice</span><span class="p">(</span><span class="s1">&#39;sofia&#39;</span><span class="p">);</span>
<span class="nx">say</span><span class="p">(</span><span class="s1">&#39;Hello, I am Sofia!&#39;</span><span class="p">);</span>

<span class="c1">// Or pass the desired voice as parameter</span>
<span class="nx">say</span><span class="p">(</span><span class="s1">&#39;Hola, enhorabuena!&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">voice</span><span class="o">:</span><span class="s1">&#39;enrique&#39;</span><span class="p">});</span> <span class="c1">// Spanish male voice</span>
</code></pre></div>

<p>The verb <em>Say</em> uses a powerful <em>text2speech engine</em>, that transform your text into beautiful voices. There are many voices 
and languages that you can choose.</p>
<p>The maximum text size is 4kb. Commas and periods will cause pauses, and may speak things such as abbreviations or times
differently than you expect so be sure to double check for correct pronunciation.</p>
<aside class="notice">
The first time you call the verb Say with a given text the TTS Engine will transform it into voice. Subsequent calls 
with the verb with the same text will use a cached file, therefore, a faster result will be provided.
</aside>

<p><em>Available Voices:</em></p>
<ul>
<li>Dieter (DE)</li>
<li>Girgit (DE)</li>
<li>Allison (EN)</li>
<li>Lisa (EN)</li>
<li>Enrique (ES)</li>
<li>Laura (ES)</li>
<li>Sofia (ES)</li>
<li>Renee (FR)</li>
<li>Kate (GB)</li>
<li>Francesca (IT)</li>
</ul>
<h2 id="gather">Gather<a class="headerlink" href="#gather" title="Permanent link">&para;</a></h2>
<blockquote>
<p><h3 class="toc-ignore">Example</h3></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span><span class="nx">timeout</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">numDigits</span><span class="o">:</span> <span class="mi">1</span><span class="p">};</span>
<span class="kd">var</span> <span class="nx">key</span> <span class="o">=</span> <span class="nx">gather</span><span class="p">(</span><span class="nx">say</span><span class="p">(</span><span class="s1">&#39;Choose a number from your keypad&#39;</span><span class="p">),</span> <span class="nx">config</span><span class="p">);</span>
<span class="nx">say</span><span class="p">(</span><span class="s1">&#39;The key pressed was, &#39;</span> <span class="o">+</span> <span class="nx">key</span><span class="p">);</span>
</code></pre></div>

<p>Gather collects data from the user's keypad. This verb must be used in combination with <em>Wait</em>, <em>Say</em> or <em>Play</em>. 
The possible parameters are:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Optional</th>
</tr>
</thead>
<tbody>
<tr>
<td>function</td>
<td>The function Wait, Say or Play or a character (0-9, *, #)</td>
<td>No</td>
</tr>
<tr>
<td>config</td>
<td>Modifiers to change the verbs behavior. Default is {timeout: 4, finishOnKey: '#', numDigits: 0}. The parameter <em>numDigits</em> indicate the maximum number of digits allow for the entry.</td>
<td>Yes</td>
</tr>
</tbody>
</table>
<h2 id="record">Record<a class="headerlink" href="#record" title="Permanent link">&para;</a></h2>
<blockquote>
<p><h3 class="toc-ignore">Example</h3></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">beep</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nx">maxDuration</span><span class="o">:</span> <span class="mi">3600</span><span class="p">,</span> 
    <span class="nx">timeout</span><span class="o">:</span> <span class="mi">5</span><span class="p">,</span>
    <span class="nx">finishOnKey</span><span class="o">:</span> <span class="s1">&#39;#&#39;</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">record</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
<span class="nx">stash</span><span class="p">(</span><span class="s1">&#39;recordingUri&#39;</span><span class="p">,</span> <span class="nx">result</span><span class="p">.</span><span class="nx">recordingUri</span><span class="p">);</span>
</code></pre></div>

<p>The Record verb records the caller's voice. Like the other verbs, it has a default behavior that can changed using the 
modifiers. </p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Optional</th>
</tr>
</thead>
<tbody>
<tr>
<td>config</td>
<td>Modifiers to change the verbs behavior. Default is {beep: true; timeout: 5, finishOnKey: '1234567890*#', maxDuration: 3600}. The parameter <em>maxDuration</em> indicate the maximum time for the record.</td>
<td>No</td>
</tr>
</tbody>
</table>
<h2 id="stash">Stash<a class="headerlink" href="#stash" title="Permanent link">&para;</a></h2>
<blockquote>
<p><h3 class="toc-ignore">Example</h3></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="kd">var</span> <span class="nx">t</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="nx">stash</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="nx">t</span><span class="p">);</span>
<span class="nx">say</span><span class="p">(</span><span class="s1">&#39;Adios!&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">voice</span><span class="o">:</span> <span class="s1">&#39;enrique&#39;</span><span class="p">});</span>
</code></pre></div>

<p>Use stash to store variables as metadata with the call-record. Stashed data can later be retrieved as part of the CDR. This feature is particularly interesting for analytics. </p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Optional</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Name of the variable</td>
<td>No</td>
</tr>
<tr>
<td>value</td>
<td>Value to store</td>
<td>No</td>
</tr>
</tbody>
</table>
<h2 id="wait">Wait<a class="headerlink" href="#wait" title="Permanent link">&para;</a></h2>
<blockquote>
<p><h3 class="toc-ignore">Example</h3></p>
</blockquote>
<div class="highlight"><pre><span></span><code><span class="nx">say</span><span class="p">(</span><span class="s1">&#39;Please wait&#39;</span><span class="p">)</span>
<span class="nx">wait</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="nx">say</span><span class="p">(</span><span class="s1">&#39;Thanks for waiting&#39;</span><span class="p">);</span>
</code></pre></div>

<p>Plays silence for the given time.</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Optional</th>
</tr>
</thead>
<tbody>
<tr>
<td>duration</td>
<td>Time in second for the duration of the silence</td>
<td>No</td>
</tr>
</tbody>
</table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        

<!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">

        <!-- Link to previous page -->
        

        <!-- Link to next page -->
        
          <a href="../guides/installing-on-minikube/"
              title="Installing Fonos on Minikube"
              class="md-flex md-footer-nav__link md-footer-nav__link--next"
              rel="next">
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Installing Fonos on Minikube
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward
                    md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2020 Fonoster Inc
          </div>
        
        build with love by
        <a href="https://github.com/fonoster">Fonoster</a>
        and
        <a href="https://github.com/fonoster/fonos/graphs/contributors">
          Friends</a>
      </div>

      <!-- Social links -->
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://fonoster.com" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/fonoster" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/fonoster" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/company/fonoster/about/" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.1.2",url:{base:".."}})</script>
      
    
  </body>
</html>